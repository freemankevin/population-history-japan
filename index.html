<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ—¥æœ¬å†å²äººå£å˜åŒ–æ¨¡å‹</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #ff6b9d 0%, #c44569 50%, #3742fa 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: 'ğŸŒ¸';
            position: absolute;
            font-size: 4rem;
            opacity: 0.1;
            top: 20px;
            right: 30px;
            animation: float 6s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 15px;
            font-weight: 800;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }
        
        .controls {
            padding: 25px 30px;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            align-items: center;
            justify-content: center;
        }
        
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.4s ease;
            background: linear-gradient(135deg, #ffffff 0%, #f1f3f4 100%);
            color: #333;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            font-size: 0.9rem;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }
        
        .btn.active {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            color: white;
            transform: translateY(-2px);
        }
        
        .chart-container {
            padding: 40px;
            height: 600px;
            position: relative;
            background: linear-gradient(135deg, #ffffff 0%, #f8f9fa 100%);
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 25px;
            padding: 40px;
            background: #f8f9fa;
        }
        
        .stats-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border-left: 5px solid #e74c3c;
            transition: transform 0.3s ease;
        }
        
        .stats-card:hover {
            transform: translateY(-5px);
        }
        
        .stats-card h3 {
            color: #e74c3c;
            margin-bottom: 20px;
            font-size: 1.3rem;
            font-weight: 700;
        }
        
        .period-item {
            margin-bottom: 15px;
            padding: 12px 0;
            border-bottom: 1px solid #e9ecef;
            transition: background 0.2s ease;
        }
        
        .period-item:hover {
            background: #f8f9fa;
            border-radius: 8px;
            padding-left: 8px;
        }
        
        .period-item:last-child {
            border-bottom: none;
        }
        
        .period-name {
            font-weight: 600;
            color: #333;
            font-size: 1rem;
        }
        
        .period-years {
            color: #666;
            font-size: 0.9rem;
            margin-top: 2px;
        }
        
        .period-population {
            color: #e74c3c;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .crisis-item {
            background: #fef2f2;
            border-left: 4px solid #ef4444;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .unique-item {
            background: #f0f9ff;
            border-left: 4px solid #3b82f6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .archaeology-item {
            background: #f6f3ff;
            border-left: 4px solid #8b5cf6;
            padding: 15px;
            margin: 10px 0;
            border-radius: 8px;
        }
        
        .footer {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            color: white;
            padding: 30px;
            line-height: 1.8;
        }
        
        .footer h4 {
            color: #ff6b9d;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2.2rem;
            }
            
            .controls {
                flex-direction: column;
            }
            
            .chart-container {
                height: 450px;
                padding: 25px;
            }
            
            .stats-container {
                padding: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>æ—¥æœ¬å†å²äººå£å˜åŒ–æ¨¡å‹</h1>
            <p>ä»ç»³æ–‡æ—¶ä»£è‡³ä»Šçš„æ—¥æœ¬åˆ—å²›äººå£æ¼”å˜è½¨è¿¹</p>
        </div>
        
        <div class="controls">
            <button class="btn active" onclick="setPeriod('all')">å®Œæ•´å†å²</button>
            <button class="btn" onclick="setPeriod('ancient')">å¤ä»£ï¼ˆå‰10000-1185å¹´ï¼‰</button>
            <button class="btn" onclick="setPeriod('medieval')">ä¸­ä¸–çºªï¼ˆ1185-1603å¹´ï¼‰</button>
            <button class="btn" onclick="setPeriod('edo')">æ±Ÿæˆ·æ—¶ä»£ï¼ˆ1603-1868å¹´ï¼‰</button>
            <button class="btn" onclick="setPeriod('modern')">è¿‘ç°ä»£ï¼ˆ1868å¹´è‡³ä»Šï¼‰</button>
            <label style="display: flex; align-items: center; margin-left: 20px; color: #666;">
                <input type="checkbox" id="showEvents" checked onchange="toggleEvents()" style="margin-right: 8px;">
                æ˜¾ç¤ºé‡å¤§å†å²äº‹ä»¶
            </label>
        </div>
        
        <div class="chart-container">
            <canvas id="populationChart"></canvas>
        </div>
        
        <div class="stats-container">
            <div class="stats-card">
                <h3>ä¸»è¦å†å²æ—¶æœŸäººå£</h3>
                <div id="periodStats"></div>
            </div>
            
            <div class="stats-card">
                <h3>æ—¥æœ¬äººå£ç‹¬ç‰¹ç°è±¡</h3>
                <div id="uniqueFeatures"></div>
            </div>
            
            <div class="stats-card" id="eventsCard">
                <h3>é‡å¤§å†å²äº‹ä»¶å½±å“</h3>
                <div id="historicalEvents"></div>
            </div>
            
            <div class="stats-card">
                <h3>è€ƒå¤å­¦ä¸å²å­¦è¯æ®</h3>
                <div id="evidenceData"></div>
            </div>
        </div>
        
        <div class="footer">
            <h4>æ•°æ®æ¥æºä¸è¯´æ˜</h4>
            <p><strong>è€ƒå¤å­¦æ•°æ®ï¼š</strong>ç»³æ–‡ã€å¼¥ç”Ÿæ—¶ä»£äººå£ä¸»è¦ä¾æ®é—å€å¯†åº¦ã€ä½å±…æ•°é‡ã€è´å¡šè§„æ¨¡ç­‰è€ƒå¤è¯æ®æ¨ç®—</p>
            <p><strong>å¤ä»£æ–‡çŒ®ï¼š</strong>ã€Šæ—¥æœ¬ä¹¦çºªã€‹ã€Šç»­æ—¥æœ¬çºªã€‹ç­‰å²ä¹¦è®°è½½ï¼Œä»¥åŠå¹³å®‰æ—¶ä»£çš„æˆ·ç±åˆ¶åº¦èµ„æ–™</p>
            <p><strong>æ±Ÿæˆ·æ—¶ä»£ï¼š</strong>å¹•åºœçš„å®—é—¨äººåˆ«å¸³ï¼ˆæˆ·ç±åˆ¶åº¦ï¼‰æä¾›ç›¸å¯¹å‡†ç¡®çš„äººå£ç»Ÿè®¡</p>
            <p><strong>è¿‘ç°ä»£ï¼š</strong>æ˜æ²»æ”¿åºœå»ºç«‹çš„æˆ¸ç±åˆ¶åº¦å’Œå›½åŠ¿è°ƒæŸ¥ï¼ˆäººå£æ™®æŸ¥ï¼‰æ•°æ®</p>
            <br>
            <p><em>æ³¨ï¼šæ—¥æœ¬ä½œä¸ºå²›å›½ï¼Œäººå£å˜åŒ–ç›¸å¯¹ç‹¬ç«‹ï¼Œå—å¤§é™†æˆ˜ä¹±å½±å“è¾ƒå°ï¼Œä½†è‡ªç„¶ç¾å®³ï¼ˆåœ°éœ‡ã€ç«å±±ã€æµ·å•¸ï¼‰å¯¹äººå£å½±å“æ˜¾è‘—</em></p>
        </div>
    </div>

    <script>
        // æ—¥æœ¬å†å²äººå£æ•°æ®ï¼ˆå•ä½ï¼šä¸‡äººï¼‰
        const japanPopulationData = [
            { year: -10000, population: 2, era: 'æ—§çŸ³å™¨æ—¶ä»£æ™šæœŸ', period: 'å…ˆå²æ—¶ä»£' },
            { year: -8000, population: 5, era: 'ç»³æ–‡æ—¶ä»£æ—©æœŸ', period: 'ç»³æ–‡æ—¶ä»£' },
            { year: -5000, population: 15, era: 'ç»³æ–‡æ—¶ä»£ä¸­æœŸ', period: 'ç»³æ–‡æ—¶ä»£' },
            { year: -2000, population: 20, era: 'ç»³æ–‡æ—¶ä»£æ™šæœŸ', period: 'ç»³æ–‡æ—¶ä»£' },
            { year: -500, population: 60, era: 'å¼¥ç”Ÿæ—¶ä»£', period: 'å¼¥ç”Ÿæ—¶ä»£' },
            { year: 300, population: 300, era: 'å¤åŸæ—¶ä»£', period: 'å¤ä»£' },
            { year: 600, population: 450, era: 'é£é¸Ÿæ—¶ä»£', period: 'å¤ä»£' },
            { year: 700, population: 500, era: 'å¥ˆè‰¯æ—¶ä»£', period: 'å¤ä»£' },
            { year: 800, population: 550, era: 'å¹³å®‰æ—¶ä»£åˆæœŸ', period: 'å¹³å®‰æ—¶ä»£' },
            { year: 1000, population: 650, era: 'å¹³å®‰æ—¶ä»£ä¸­æœŸ', period: 'å¹³å®‰æ—¶ä»£' },
            { year: 1150, population: 680, era: 'å¹³å®‰æ—¶ä»£æœ«æœŸ', period: 'å¹³å®‰æ—¶ä»£' },
            { year: 1200, population: 700, era: 'é•°ä»“æ—¶ä»£åˆæœŸ', period: 'é•°ä»“æ—¶ä»£' },
            { year: 1300, population: 800, era: 'é•°ä»“æ—¶ä»£æœ«æœŸ', period: 'é•°ä»“æ—¶ä»£' },
            { year: 1400, population: 900, era: 'å®¤ç”ºæ—¶ä»£', period: 'å®¤ç”ºæ—¶ä»£' },
            { year: 1500, population: 1000, era: 'æˆ˜å›½æ—¶ä»£', period: 'æˆ˜å›½æ—¶ä»£' },
            { year: 1600, population: 1200, era: 'å®‰åœŸæ¡ƒå±±æ—¶ä»£', period: 'å®‰åœŸæ¡ƒå±±' },
            { year: 1650, population: 1800, era: 'æ±Ÿæˆ·æ—¶ä»£åˆæœŸ', period: 'æ±Ÿæˆ·æ—¶ä»£' },
            { year: 1700, population: 2800, era: 'æ±Ÿæˆ·æ—¶ä»£å…ƒç¦„', period: 'æ±Ÿæˆ·æ—¶ä»£' },
            { year: 1750, population: 3100, era: 'æ±Ÿæˆ·æ—¶ä»£ä¸­æœŸ', period: 'æ±Ÿæˆ·æ—¶ä»£' },
            { year: 1800, population: 3200, era: 'æ±Ÿæˆ·æ—¶ä»£åæœŸ', period: 'æ±Ÿæˆ·æ—¶ä»£' },
            { year: 1850, population: 3200, era: 'æ±Ÿæˆ·æ—¶ä»£æœ«æœŸ', period: 'æ±Ÿæˆ·æ—¶ä»£' },
            { year: 1870, population: 3300, era: 'æ˜æ²»ç»´æ–°åˆæœŸ', period: 'æ˜æ²»æ—¶ä»£' },
            { year: 1900, population: 4400, era: 'æ˜æ²»åæœŸ', period: 'æ˜æ²»æ—¶ä»£' },
            { year: 1920, population: 5600, era: 'å¤§æ­£æ—¶ä»£', period: 'å¤§æ­£æ—¶ä»£' },
            { year: 1940, population: 7200, era: 'æ˜­å’Œæˆ˜äº‰æœŸ', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1945, population: 7200, era: 'æˆ˜è´¥æ—¶', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1950, population: 8320, era: 'æˆ˜åå¤å…´', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1960, population: 9430, era: 'é«˜åº¦ç»æµæˆé•¿', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1970, population: 10370, era: 'ç»æµèµ·é£', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1980, population: 11710, era: 'æ³¡æ²«ç»æµå‰', period: 'æ˜­å’Œæ—¶ä»£' },
            { year: 1990, population: 12360, era: 'æ³¡æ²«ç»æµé¡¶å³°', period: 'å¹³æˆæ—¶ä»£' },
            { year: 2000, population: 12690, era: 'å¤±è½çš„åå¹´', period: 'å¹³æˆæ—¶ä»£' },
            { year: 2010, population: 12810, era: 'äººå£å³°å€¼', period: 'å¹³æˆæ—¶ä»£' },
            { year: 2020, population: 12540, era: 'å°‘å­é«˜é¾„åŒ–', period: 'ä»¤å’Œæ—¶ä»£' },
            { year: 2024, population: 12400, era: 'äººå£å‡å°‘ç¤¾ä¼š', period: 'ä»¤å’Œæ—¶ä»£' }
        ];

        // é‡å¤§å†å²äº‹ä»¶å¯¹äººå£çš„å½±å“
        const historicalEvents = [
            { year: -500, event: 'å¼¥ç”Ÿæ–‡åŒ–ä¼ å…¥', impact: 'ç¨»ä½œå†œä¸šå¼€å§‹ï¼Œäººå£å¢é•¿åŠ é€Ÿ' },
            { year: 600, event: 'ä½›æ•™ä¼ å…¥', impact: 'æ–‡åŒ–å‘å±•ä¿ƒè¿›äººå£ç¨³å®šå¢é•¿' },
            { year: 1185, event: 'é•°ä»“å¹•åºœå»ºç«‹', impact: 'æ­¦å£«æ”¿æ²»ç¡®ç«‹' },
            { year: 1467, event: 'åº”ä»ä¹‹ä¹±', impact: 'æˆ˜å›½æ—¶ä»£å¼€å§‹ï¼Œäººå£å¢é•¿æ”¾ç¼“' },
            { year: 1603, event: 'æ±Ÿæˆ·å¹•åºœå»ºç«‹', impact: 'é”å›½æ”¿ç­–ï¼Œäººå£å¢é•¿åœæ»' },
            { year: 1782, event: 'å¤©æ˜å¤§é¥¥è’', impact: 'äººå£å¤§å‡ï¼Œæ±Ÿæˆ·æ—¶ä»£æœ€ä¸¥é‡é¥¥è’' },
            { year: 1853, event: 'é»‘èˆ¹æ¥èˆª', impact: 'å¼€å›½å‹åŠ›å¢å¤§' },
            { year: 1868, event: 'æ˜æ²»ç»´æ–°', impact: 'ç°ä»£åŒ–å¼€å§‹ï¼Œäººå£å¿«é€Ÿå¢é•¿' },
            { year: 1923, event: 'å…³ä¸œå¤§åœ°éœ‡', impact: 'ä¸œäº¬åœ°åŒºäººå£å¤§é‡æ­»äº¡' },
            { year: 1945, event: 'äºŒæˆ˜æˆ˜è´¥', impact: 'æˆ˜äº‰æ­»äº¡ä¸æµ·å¤–ç§»æ°‘å›å½’' },
            { year: 1970, event: 'å¤§é˜ªä¸‡åš', impact: 'ç»æµé»„é‡‘æœŸï¼Œå©´å„¿æ½®ç»“æŸ' },
            { year: 2011, event: 'ä¸œæ—¥æœ¬å¤§åœ°éœ‡', impact: 'äººå£å‡å°‘è¶‹åŠ¿åŠ é€Ÿ' }
        ];

        // è€ƒå¤å­¦ä¸å²å­¦è¯æ®
        const evidenceData = [
            { period: 'ç»³æ–‡æ—¶ä»£æ—©æœŸ', evidence: 'å¤å²›è´å¡š', population: '5ä¸‡äºº', method: 'é—å€å¯†åº¦åˆ†æ' },
            { period: 'ç»³æ–‡æ—¶ä»£ä¸­æœŸ', evidence: 'ä¸‰å†…ä¸¸å±±é—å€', population: '15ä¸‡äºº', method: 'å¤§å‹èšè½è§„æ¨¡æ¨ç®—' },
            { period: 'å¼¥ç”Ÿæ—¶ä»£', evidence: 'å‰é‡é‡Œé—å€', population: '60ä¸‡äºº', method: 'ç¨»ä½œæ‘è½åˆ†å¸ƒ' },
            { period: 'å¤åŸæ—¶ä»£', evidence: 'ä»å¾·å¤©çš‡é™µ', population: '300ä¸‡äºº', method: 'å¤åŸè§„æ¨¡ä¸äººåŠ›éœ€æ±‚' },
            { year: 725, evidence: 'ã€Šæ—¥æœ¬ä¹¦çºªã€‹', population: '500ä¸‡äºº', method: 'æˆ·ç±åˆ¶åº¦è®°å½•' },
            { year: 1600, evidence: 'å¤ªé–¤æ¤œåœ°', population: '1200ä¸‡äºº', method: 'è±Šè‡£ç§€å‰å…¨å›½åœŸåœ°è°ƒæŸ¥' },
            { year: 1721, evidence: 'äº«ä¿6å¹´äººå£è°ƒæŸ»', population: '2612ä¸‡äºº', method: 'å¹•åºœæ­£å¼äººå£è°ƒæŸ¥' }
        ];

        let chart;
        let currentPeriod = 'all';
        let showEvents = true;

        function initChart() {
            const ctx = document.getElementById('populationChart').getContext('2d');
            
            chart = new Chart(ctx, {
                type: 'line',
                data: {
                    datasets: [{
                        label: 'æ—¥æœ¬äººå£ï¼ˆä¸‡äººï¼‰',
                        data: getFilteredData(),
                        borderColor: '#e74c3c',
                        backgroundColor: 'rgba(231, 76, 60, 0.1)',
                        borderWidth: 4,
                        pointBackgroundColor: '#e74c3c',
                        pointBorderColor: '#ffffff',
                        pointBorderWidth: 3,
                        pointRadius: 6,
                        pointHoverRadius: 10,
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'æ—¥æœ¬å†å²äººå£å˜åŒ–ï¼ˆä¸‡äººï¼‰',
                            font: {
                                size: 20,
                                weight: 'bold'
                            },
                            color: '#333'
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: '#e74c3c',
                            borderWidth: 2,
                            callbacks: {
                                title: function(context) {
                                    const year = context[0].parsed.x;
                                    return year < 0 ? `å…¬å…ƒå‰${Math.abs(year)}å¹´` : `å…¬å…ƒ${year}å¹´`;
                                },
                                label: function(context) {
                                    const dataPoint = japanPopulationData.find(d => d.year === context.parsed.x);
                                    return [
                                        `äººå£: ${context.parsed.y.toLocaleString()} ä¸‡äºº`,
                                        `æ—¶ä»£: ${dataPoint?.period || ''}`,
                                        `æ—¶æœŸ: ${dataPoint?.era || ''}`
                                    ];
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            type: 'linear',
                            title: {
                                display: true,
                                text: 'å¹´ä»½',
                                font: { size: 14, weight: 'bold' }
                            },
                            ticks: {
                                callback: function(value) {
                                    return value < 0 ? `å‰${Math.abs(value)}` : `${value}`;
                                },
                                font: { size: 12 }
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'äººå£ï¼ˆä¸‡äººï¼‰',
                                font: { size: 14, weight: 'bold' }
                            },
                            ticks: {
                                callback: function(value) {
                                    return value.toLocaleString();
                                },
                                font: { size: 12 }
                            },
                            grid: {
                                color: 'rgba(0,0,0,0.1)'
                            }
                        }
                    },
                    interaction: {
                        intersect: false,
                        mode: 'index'
                    }
                }
            });

            updatePeriodStats();
            updateUniqueFeatures();
            updateHistoricalEvents();
            updateEvidenceData();
        }

        function getFilteredData() {
            let filtered;
            switch(currentPeriod) {
                case 'ancient':
                    filtered = japanPopulationData.filter(d => d.year <= 1185);
                    break;
                case 'medieval':
                    filtered = japanPopulationData.filter(d => d.year >= 1185 && d.year <= 1603);
                    break;
                case 'edo':
                    filtered = japanPopulationData.filter(d => d.year >= 1603 && d.year <= 1868);
                    break;
                case 'modern':
                    filtered = japanPopulationData.filter(d => d.year >= 1868);
                    break;
                default:
                    filtered = japanPopulationData;
            }
            
            return filtered.map(d => ({
                x: d.year,
                y: d.population
            }));
        }

        function setPeriod(period) {
            currentPeriod = period;
            
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // æ›´æ–°å›¾è¡¨æ•°æ®
            chart.data.datasets[0].data = getFilteredData();
            chart.update();
        }

        function toggleEvents() {
            showEvents = document.getElementById('showEvents').checked;
            document.getElementById('eventsCard').style.display = showEvents ? 'block' : 'none';
        }

        function updatePeriodStats() {
            const majorPeriods = [
                { name: 'ç»³æ–‡æ—¶ä»£ä¸­æœŸ', years: 'å…¬å…ƒå‰5000å¹´', population: '15ä¸‡äºº', note: 'ç‹©çŒé‡‡é›†ç¤¾ä¼šçš„äººå£å³°å€¼' },
                { name: 'å¼¥ç”Ÿæ—¶ä»£', years: 'å…¬å…ƒå‰500å¹´', population: '60ä¸‡äºº', note: 'ç¨»ä½œå†œä¸šä¼ å…¥ï¼Œäººå£å¤§å¢' },
                { name: 'å¥ˆè‰¯æ—¶ä»£', years: 'å…¬å…ƒ700å¹´', population: '500ä¸‡äºº', note: 'å¾‹ä»¤åˆ¶åº¦ç¡®ç«‹' },
                { name: 'å¹³å®‰æ—¶ä»£ç››æœŸ', years: 'å…¬å…ƒ1000å¹´', population: '650ä¸‡äºº', note: 'è´µæ—æ–‡åŒ–ç¹è£' },
                { name: 'æ±Ÿæˆ·æ—¶ä»£åˆæœŸ', years: 'å…¬å…ƒ1650å¹´', population: '1800ä¸‡äºº', note: 'å¾·å·å’Œå¹³æ—¶ä»£å¼€å§‹' },
                { name: 'æ±Ÿæˆ·æ—¶ä»£å³°å€¼', years: 'å…¬å…ƒ1750å¹´', population: '3100ä¸‡äºº', note: 'äººå£å¢é•¿åœæ»å¼€å§‹' },
                { name: 'æ˜æ²»ç»´æ–°', years: 'å…¬å…ƒ1870å¹´', population: '3300ä¸‡äºº', note: 'ç°ä»£åŒ–èµ·ç‚¹' },
                { name: 'æˆ˜å‰å³°å€¼', years: 'å…¬å…ƒ1940å¹´', population: '7200ä¸‡äºº', note: 'å†›å›½ä¸»ä¹‰æ—¶æœŸ' },
                { name: 'ç°ä»£å³°å€¼', years: 'å…¬å…ƒ2010å¹´', population: '12810ä¸‡äºº', note: 'äººå£è½¬æŠ˜ç‚¹' },
                { name: 'å½“å‰', years: 'å…¬å…ƒ2024å¹´', population: '12400ä¸‡äºº', note: 'äººå£å‡å°‘ç¤¾ä¼š' }
            ];

            const container = document.getElementById('periodStats');
            container.innerHTML = majorPeriods.map(period => `
                <div class="period-item">
                    <div class="period-name">${period.name}</div>
                    <div class="period-years">${period.years}</div>
                    <div class="period-population">${period.population} - ${period.note}</div>
                </div>
            `).join('');
        }

        function updateUniqueFeatures() {
            const uniqueFeatures = [
                { 
                    feature: 'æ±Ÿæˆ·æ—¶ä»£äººå£åœæ»', 
                    description: '1700-1850å¹´äººå£å‡ ä¹é›¶å¢é•¿ï¼Œä¸–ç•Œç½•è§ç°è±¡',
                    reason: 'é”å›½æ”¿ç­–ã€ç¤¾ä¼šç¨³å®šä½†èµ„æºæœ‰é™'
                },
                { 
                    feature: 'æ˜æ²»ç»´æ–°äººå£çˆ†å‘', 
                    description: '1870-1940å¹´70å¹´é—´äººå£ç¿»å€',
                    reason: 'ç°ä»£åŒ»å­¦å¼•å…¥ã€å·¥ä¸šåŒ–å‘å±•'
                },
                { 
                    feature: 'ä¸–ç•Œæœ€å¿«è€é¾„åŒ–', 
                    description: '1990å¹´åå°‘å­é«˜é¾„åŒ–æ€¥é€Ÿå‘å±•',
                    reason: 'ç»æµå‘è¾¾ã€ç”Ÿè‚²è§‚å¿µæ”¹å˜'
                },
                { 
                    feature: 'äººå£å¯†åº¦æé«˜', 
                    description: 'åœ¨æœ‰é™å›½åœŸä¸Šç»´æŒ1.2äº¿äººå£',
                    reason: 'å²›å›½åœ°ç†ã€ç²¾è€•ç»†ä½œå†œä¸š'
                },
                { 
                    feature: 'è‡ªç„¶ç¾å®³æŠ—æ€§', 
                    description: 'é¢‘ç¹åœ°éœ‡ç«å±±ä½†äººå£æ¢å¤èƒ½åŠ›å¼º',
                    reason: 'é˜²ç¾æ„è¯†ã€ç¤¾ä¼šç»„ç»‡å®Œå–„'
                }
            ];

            const container = document.getElementById('uniqueFeatures');
            container.innerHTML = uniqueFeatures.map(feature => `
                <div class="unique-item">
                    <div style="font-weight: 600; color: #1e40af;">${feature.feature}</div>
                    <div style="margin: 8px 0; color: #666;">${feature.description}</div>
                    <div style="font-size: 0.9rem; color: #3b82f6; font-weight: 500;">åŸå› ï¼š${feature.reason}</div>
                </div>
            `).join('');
        }

        function updateHistoricalEvents() {
            const container = document.getElementById('historicalEvents');
            container.innerHTML = historicalEvents.map(event => `
                <div class="crisis-item">
                    <div style="font-weight: 600; color: #dc2626;">
                        ${event.year < 0 ? `å…¬å…ƒå‰${Math.abs(event.year)}å¹´` : `å…¬å…ƒ${event.year}å¹´`} - ${event.event}
                    </div>
                    <div style="margin-top: 8px; color: #666; font-size: 0.9rem;">${event.impact}</div>
                </div>
            `).join('');
        }

        function updateEvidenceData() {
            const container = document.getElementById('evidenceData');
            container.innerHTML = evidenceData.map(evidence => `
                <div class="archaeology-item">
                    <div style="font-weight: 600; color: #7c3aed;">${evidence.period}</div>
                    <div style="margin: 5px 0; color: #666;">
                        ${evidence.evidence ? `è¯æ®ï¼š${evidence.evidence}` : `æ—¶é—´ï¼š${evidence.year}å¹´`}
                    </div>
                    <div style="color: #8b5cf6; font-weight: 600;">
                        æ¨ç®—äººå£ï¼š${evidence.population}
                    </div>
                    <div style="font-size: 0.8rem; color: #a855f7; margin-top: 3px;">
                        æ–¹æ³•ï¼š${evidence.method}
                    </div>
                </div>
            `).join('');
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        window.addEventListener('load', function() {
            initChart();
        });
    </script>
</body>
</html>
